
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="assets/ico/favicon.ico">

    <title>Monkey See Monkey Do</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/site.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body data-spy="scroll" data-target=".sidenav">

    <div class="container">

      <!-- Static navbar -->
      <div class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html">Monkey See Monkey Do</a>
          </div>
          <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
              <li><a href="index.html">Overview</a></li>
              <li class="dropdown active">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Components <b class="caret"></b></a>
                <ul class="dropdown-menu">
        		  <li class="dropdown-header">Front-End</li>
                  <li><a href="component_front_interface.html">Interface &amp; Design</a></li>
                  <li class="active"><a href="component_front_javascript.html">Database JavaScript</a></li>

                  <li class="divider"></li>
                  <li class="dropdown-header">Back-End</li>
                  <li><a href="component_back_database_upload.html">Database Upload Form</a></li>
                  <li><a href="component_back_database_deliver.html">Deliver Database to Front-End</a></li>
                </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </div>

      <!-- Main component for a primary marketing message or call to action -->
      <div class="col-md-9">
        <h1 class="page-header main">Front-End: Database JavaScript</h1>
        <p class="lead">This component deals with the loading and filtering of data from the monkey database.</p>
        
        <h1 id="requirements">Requirements</h1>
        <p>Ultimately, you need to create a function that reads the form inputs, filters the database, and displays the matching monkeys in the table. As explained below, the database will be retrieved from a different component using AJAX. The filter function should be as quick as possible, and it should update the table in real time (i.e., as form controls are changed).</p>
        <p>You must keep in mind that this application will be offline when it is used in the field. Therefore, you will need to cache the data you receive. Apple has a <a href="https://developer.apple.com/library/safari/documentation/iphone/conceptual/safarijsdatabaseguide/offlineapplicationcache/offlineapplicationcache.html" target="_blank">guide</a> on their developer site that talks about doing this. You'll also want to store the last time the database was updated, so that you can display that to the user.
        <strong>You will be responsible for making sure that the application will work both online and offline.</strong></p>

        <h2 id="coordination">Coordination with Other Components</h2>
        <p>You will use the <a href="component_back_database_deliver.html">Deliver Database to Front-End</a> component to get a JSON string with the database values using AJAX. I have uploaded an <a href="examples/database.json">example</a> of what that component should look like so that you can test it.</p>
        <p>You will need to fill in the group form field and the last updated date on the interface.</p>
        
        <h1 id="tools">Tools</h1>
        <ul>
            <li><strong><a href="http://jquery.com/" target="_blank">jQuery</a>:</strong> You will have jQuery available to you, and it will make it easy for you to read and update the form fields as well as to do perform the AJAX operations.</li>
        </ul>

        <h1 id="steps">Steps</h1>
        <ol>
            <li><strong>Get familiar with JavaScript and jQuery.</strong> W3Schools has a nice <a href="http://www.w3schools.com/js/js_intro.asp" target="_blank">JavaScript tutorial</a>, and jQuery's website has a nice <a href="http://learn.jquery.com/about-jquery/how-jquery-works/" target="_blank">jQuery tutorial</a>.</li>
            <li><strong>Create the JavaScript file.</strong> Start by creating a JavaScript file named something like <em>site.js</em> and place it in a directory named <em>js</em>.</li>
            <li><strong>Retrieve the database from the back-end.</strong> The <em>get_database.php</em> file will return the database in JSON format. Stack Overflow has a good <a href="http://stackoverflow.com/questions/383692/what-is-json-and-why-would-i-use-it" target="_blank">explanation of what JSON is</a>. In order to get the database JSON from the back-end, you can use jQuery's <a href="http://api.jquery.com/jquery.getjson/" target="_blank">getJSON() function</a>. Save the database in a variable that you can access later to update the table.</li>
            <li>
                <strong>Create an update table function.</strong> You need a function that updates the table whenever a field is updated. This function needs to read the values of the form fields created by the <a href="component_front_interface.html">Interface &amp; Design</a> team.
                <ul>
                    <li>Make sure that each form element has an <em>ID</em> attribute, which will allow you to access its value by using jQuery's <a href="http://api.jquery.com/val/" target="_blank">.val() function</a>. For example, if you have a <code>&lt;select&gt;</code> element with <code>id="group"</code>, you could access its value by using <code>$("#group").val()</code>. On toggle buttons (which you will create JavaScript code for below), you can use the <a href="https://api.jquery.com/hasClass/" target="_blank">.hasClass() function</a> on a button to see if it is selcted by seeing if it has the "active" class.</li>
                    <li>Clear out the contents of the table. You can use jQuery's <a href="http://api.jquery.com/empty/" target="_blank">.empty()</a> function on the <code>&lt;tbody&gt;</code> element to do this.</li>
                    <li>Loop through the array with the monkey data you created above and check each item to see if it meets the requirements set forth by the form fields. If it does, add it to the table using jQuery. Here is a tutorial on <a href="http://stackoverflow.com/a/1278557/867915" target="_blank">how to add rows to table</a> using jQuery.</li>
                </ul>
            </li>
            <li>
                <strong>Create event listeners on the form elements.</strong> You need to have the function you just created get executed whenever a form field is changed.
                <ul>
                    <li>The jQuery tutorial above shows you how to create event listeners. For a <code>&lt;select&gt;</code> element, you would use the <a href="http://api.jquery.com/change/" target="_blank">.change()</a> listener. For a button, you would use a <a href="http://api.jquery.com/click/" target="_blank">.click()</a> listener.</li>
                    <li>Additionally, if the <a href="component_front_interface.html">Interface &amp; Design</a> team chose to make toggle buttons, you need to create code that  make these work. For each series of toggle buttons, you need to listen to clicks on the buttons. If a button is clicked, you need to <a href="https://api.jquery.com/toggleClass/" target="_blank">toggle</a> the "active" class (this is a Bootstrap class) on it and <a href="https://api.jquery.com/removeClass/" target="_blank">remove</a> the "active" class on the other buttons in that group.</li>
                </ul>
            </li>
            <li><strong>Make the application work offline.</strong> More instructions on this will be coming. If you reach this step early, try to follow <a href="https://developer.apple.com/library/safari/documentation/iphone/conceptual/safarijsdatabaseguide/offlineapplicationcache/offlineapplicationcache.html" target="_blank">Apple's guide on the subject</a>.</li>
        </ol>
    </div>
    
    <div class="col-md-3">
        <div data-spy="affix" data-offset-top="70" class="sidenav">
            <ul class="nav">
                <li>
                    <a href="#requirements">Requirements</a>
                    
                    <ul class="nav">
                        <li><a href="#coordination">Coordination</a></li>
                    </ul>
                </li>

                <li>
                    <a href="#tools">Tools</a>
                </li>

                <li>
                    <a href="#steps">Steps</a>
                </li>
            </ul>
        </div>
    </div>

    </div> <!-- /container -->

    <div class="footer">
        <div class="container">
            <p class="text-muted">This guide was created by <a href="http://alanrussian.com" target="_blank">Alan Russian</a> for <a href="http://sun.iwu.edu/~acm" target="_blank">Illinois Wesleyan University's chapter of ACM</a></p>
        </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>

